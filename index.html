<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FunZone | Ù¾Ù„ØªÙØ±Ù… Ø³Ø±Ú¯Ø±Ù…ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;700&family=Press+Start+2P&family=Vazirmatn:wght@400;700;900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        /* --- CSS Variables & Reset --- */
        :root {
            --primary: #FF6B6B;
            --secondary: #4ECDC4;
            --accent: #FFD166;
            --dark: #1A1A2E;
            --light: #F7FFF7;
            --text-main: #2d3436;
            --card-bg: #ffffff;
            --shadow: 0 10px 20px rgba(0,0,0,0.1);
            --font-heading: 'Fredoka One', 'Vazirmatn', cursive;
            --font-body: 'Nunito', 'Vazirmatn', sans-serif;
            --font-game: 'Press Start 2P', cursive;
        }

        [data-theme="dark"] {
            --primary: #FF8787;
            --secondary: #45B7AF;
            --light: #16213E;
            --text-main: #F7FFF7;
            --card-bg: #1A1A2E;
            --shadow: 0 10px 20px rgba(0,0,0,0.5);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; transition: background-color 0.3s ease, color 0.3s ease; }

        body {
            font-family: var(--font-body);
            background-color: var(--light);
            color: var(--text-main);
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* --- Utility Classes --- */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .btn {
            padding: 10px 25px; border: none; border-radius: 50px; cursor: pointer;
            font-family: var(--font-heading); font-size: 1rem;
            transition: transform 0.2s, box-shadow 0.2s;
            display: inline-flex; align-items: center; gap: 10px;
        }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .btn-primary { background-color: var(--primary); color: white; }
        .btn-secondary { background-color: var(--secondary); color: white; }
        .btn-accent { background-color: var(--accent); color: var(--dark); }
        .section-title {
            font-family: var(--font-heading); font-size: 2.5rem; text-align: center;
            margin-bottom: 2rem; color: var(--primary);
        }
        .hidden { display: none !important; }

        /* --- Header --- */
        header {
            background-color: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            position: fixed; width: 100%; top: 0; z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        [data-theme="dark"] header { background-color: rgba(26, 26, 46, 0.95); }

        .nav-container { display: flex; justify-content: space-between; align-items: center; height: 70px; }
        .logo { font-family: var(--font-heading); font-size: 1.8rem; color: var(--primary); display: flex; align-items: center; gap: 10px; }
        .logo i { animation: bounce 2s infinite; }
        .nav-menu { display: flex; list-style: none; gap: 20px; }
        .nav-link { text-decoration: none; color: var(--text-main); font-weight: 700; cursor: pointer; }
        .theme-toggle { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--text-main); }

        /* --- Hero --- */
        .hero {
            height: 100vh; display: flex; align-items: center; justify-content: center;
            text-align: center; position: relative; overflow: hidden; padding-top: 70px;
        }
        .hero-bg-shape { position: absolute; border-radius: 50%; opacity: 0.1; z-index: -1; animation: float 6s ease-in-out infinite; }
        .shape-1 { width: 300px; height: 300px; background: var(--primary); top: 10%; left: -50px; }
        .shape-2 { width: 200px; height: 200px; background: var(--secondary); bottom: 20%; right: -30px; animation-delay: 2s; }
        
        .hero-content h1 { font-size: 4rem; font-family: var(--font-heading); margin-bottom: 20px; }
        .hero-subtitle { font-size: 1.5rem; margin-bottom: 40px; min-height: 1.5em; color: var(--secondary); font-weight: bold; }

        /* --- Games Section --- */
        .games-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px; padding: 20px 0; }
        .game-card {
            background: var(--card-bg); border-radius: 20px; padding: 20px; text-align: center;
            box-shadow: var(--shadow); border: 2px solid transparent; transition: all 0.3s;
        }
        .game-card:hover { transform: translateY(-10px); border-color: var(--secondary); }
        .game-icon { font-size: 3rem; margin-bottom: 15px; color: var(--accent); }

        /* Game Arena */
        .game-arena {
            background: var(--card-bg); border-radius: 20px; padding: 30px; margin-top: 30px;
            box-shadow: var(--shadow); text-align: center; display: none;
        }
        .game-arena.active { display: block; animation: fadeIn 0.5s; }

        /* Specific Game Styles */
        /* Tic Tac Toe */
        .ttt-board { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; max-width: 300px; margin: 20px auto; }
        .ttt-cell {
            background: var(--light); height: 80px; display: flex; align-items: center; justify-content: center;
            font-size: 2rem; font-family: var(--font-game); cursor: pointer; border-radius: 10px; border: 2px solid var(--secondary);
        }
        .ttt-cell.x { color: var(--primary); } .ttt-cell.o { color: var(--accent); }

        /* Memory Game */
        .memory-grid {
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; max-width: 400px; margin: 20px auto;
        }
        .memory-card {
            aspect-ratio: 1; background: var(--secondary); border-radius: 8px; cursor: pointer;
            display: flex; align-items: center; justify-content: center; font-size: 2rem;
            transform-style: preserve-3d; transition: transform 0.5s;
        }
        .memory-card.flipped { background: var(--light); border: 2px solid var(--primary); transform: rotateY(180deg); }

        /* Typing Game */
        .typing-area { max-width: 600px; margin: 0 auto; }
        .typing-text { font-size: 1.2rem; margin-bottom: 20px; line-height: 1.8; background: var(--light); padding: 15px; border-radius: 10px; }
        .typing-input { width: 100%; padding: 15px; font-size: 1.1rem; border-radius: 10px; border: 2px solid var(--secondary); font-family: inherit; }

        /* Snake Game */
        #snakeCanvas { background: var(--dark); border: 5px solid var(--accent); border-radius: 5px; margin: 0 auto; display: block; }

        /* --- Jokes & Riddles --- */
        .joke-card {
            background: var(--card-bg); border-radius: 20px; padding: 40px; text-align: center;
            max-width: 600px; margin: 0 auto 30px; box-shadow: var(--shadow); position: relative;
        }
        .joke-category {
            position: absolute; top: -15px; left: 50%; transform: translateX(-50%);
            background: var(--accent); padding: 5px 20px; border-radius: 20px; font-weight: bold; color: var(--dark);
        }

        /* --- Animations --- */
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-10px); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Responsive */
        @media (max-width: 768px) {
            .hero-content h1 { font-size: 2.5rem; }
            .nav-menu { display: none; } 
            .memory-grid { gap: 5px; }
        }
    </style>
</head>
<body>

    <header>
        <div class="container nav-container">
            <div class="logo"><i class="fas fa-gamepad"></i><span>FunZone</span></div>
            <ul class="nav-menu">
                <li onclick="showSection('home')" class="nav-link">Ø®Ø§Ù†Ù‡</li>
                <li onclick="showSection('games')" class="nav-link">Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§</li>
                <li onclick="showSection('jokes')" class="nav-link">Ø®Ù†Ø¯Ù‡ Ùˆ Ù…Ø¹Ù…Ø§</li>
                <li onclick="showSection('videos')" class="nav-link">ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§</li>
            </ul>
            <button class="theme-toggle" id="themeBtn"><i class="fas fa-moon"></i></button>
        </div>
    </header>

    <main>

        <section id="home" class="hero">
            <div class="hero-bg-shape shape-1"></div>
            <div class="hero-bg-shape shape-2"></div>
            <div class="container hero-content">
                <h1>Ø¯Ù†ÛŒØ§ÛŒ Ø³Ø±Ú¯Ø±Ù…ÛŒ<br><span style="color:var(--primary)">Ø¨ÛŒâ€ŒÙ†Ù‡Ø§ÛŒØª</span></h1>
                <div class="hero-subtitle" id="typing-text"></div>
                <div class="hero-buttons">
                    <button class="btn btn-primary" onclick="showSection('games')">Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ <i class="fas fa-play"></i></button>
                    <button class="btn btn-secondary" onclick="showSection('jokes')">Ø¨Ø®Ù†Ù€Ù€Ø¯! <i class="fas fa-laugh"></i></button>
                </div>
            </div>
        </section>

        <section id="games" class="container hidden" style="padding-top: 100px;">
            <h2 class="section-title">Ù…Ù†Ø·Ù‚Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§</h2>
            
            <div id="active-game-area" class="game-arena">
                <div style="display:flex; justify-content:space-between; margin-bottom:20px; align-items:center;">
                    <h3 id="game-title" style="margin:0;">Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ø²ÛŒ</h3>
                    <button class="btn btn-accent" onclick="closeGame()" style="font-size:0.8rem; padding: 5px 15px;">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†Ùˆ</button>
                </div>
                <div id="game-board-content"></div>
                <div id="game-status" style="margin-top:20px; font-weight:bold; color: var(--primary);"></div>
            </div>

            <div class="games-grid" id="games-list">
                <div class="game-card">
                    <div class="game-icon"><i class="fas fa-times"></i></div>
                    <h3>Ø¯ÙˆØ² (Tic Tac Toe)</h3>
                    <button class="btn btn-secondary" onclick="loadGame('tictactoe')">Ø¨Ø§Ø²ÛŒ Ú©Ù†</button>
                </div>
                <div class="game-card">
                    <div class="game-icon"><i class="fas fa-question"></i></div>
                    <h3>Ø­Ø¯Ø³ Ø¹Ø¯Ø¯</h3>
                    <button class="btn btn-secondary" onclick="loadGame('guess')">Ø¨Ø§Ø²ÛŒ Ú©Ù†</button>
                </div>
                <div class="game-card">
                    <div class="game-icon"><i class="fas fa-brain"></i></div>
                    <h3>Ø­Ø§ÙØ¸Ù‡ ØªØµÙˆÛŒØ±ÛŒ</h3>
                    <button class="btn btn-secondary" onclick="loadGame('memory')">Ø¨Ø§Ø²ÛŒ Ú©Ù†</button>
                </div>
                <div class="game-card">
                    <div class="game-icon"><i class="fas fa-keyboard"></i></div>
                    <h3>ØªØ§ÛŒÙ¾ Ø³Ø±ÛŒØ¹</h3>
                    <button class="btn btn-secondary" onclick="loadGame('typing')">Ø¨Ø§Ø²ÛŒ Ú©Ù†</button>
                </div>
                <div class="game-card">
                    <div class="game-icon"><i class="fas fa-dragon"></i></div>
                    <h3>Ø¨Ø§Ø²ÛŒ Ù…Ø§Ø± (Snake)</h3>
                    <button class="btn btn-secondary" onclick="loadGame('snake')">Ø¨Ø§Ø²ÛŒ Ú©Ù†</button>
                </div>
            </div>
        </section>

        <section id="jokes" class="container hidden" style="padding-top: 100px; padding-bottom: 50px;">
            <h2 class="section-title">Ø§ÛŒØ³ØªÚ¯Ø§Ù‡ Ø®Ù†Ø¯Ù‡ Ùˆ ÙÚ©Ø±</h2>
            
            <div class="joke-card">
                <div class="joke-category">Ø¬ÙˆÚ© ØªØµØ§Ø¯ÙÛŒ</div>
                <p class="joke-content" id="joke-text" style="font-size: 1.3rem; min-height: 80px; display:flex; align-items:center; justify-content:center;">Ø¯Ø±Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p>
                <div style="margin-top:20px;">
                    <button class="btn btn-primary" onclick="newJoke()">Ø¬ÙˆÚ© Ø¨Ø¹Ø¯ÛŒ <i class="fas fa-redo"></i></button>
                </div>
            </div>
            
            <h3 style="text-align: center; margin: 40px 0 20px; color: var(--secondary);">Ù…Ø¹Ù…Ù€Ú©Ø¯Ù‡</h3>
            <div class="joke-card" style="background: var(--dark); color: white;">
                <div class="joke-category" style="background: var(--secondary);">Ú†ÛŒØ³ØªØ§Ù†</div>
                <p id="riddle-text" style="font-size: 1.2rem; margin-bottom:20px;">Ø¯Ø±Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p>
                <div id="riddle-answer-box" style="display:none; background: rgba(255,255,255,0.1); padding:10px; border-radius:10px; margin-bottom:15px;">
                    Ù¾Ø§Ø³Ø®: <span id="riddle-answer" style="color: var(--accent); font-weight:bold;"></span>
                </div>
                <div style="display:flex; justify-content:center; gap:10px;">
                    <button class="btn btn-light" style="background:white; color:black" onclick="toggleRiddleAnswer()">Ù†Ù…Ø§ÛŒØ´ Ù¾Ø§Ø³Ø®</button>
                    <button class="btn btn-accent" onclick="newRiddle()">Ù…Ø¹Ù…Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ</button>
                </div>
            </div>
        </section>

        <section id="videos" class="container hidden" style="padding-top: 100px;">
            <h2 class="section-title">ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ Ø·Ù†Ø²</h2>
            <div style="text-align:center; padding: 50px; background: var(--card-bg); border-radius:20px;">
                <i class="fas fa-film" style="font-size: 4rem; color: var(--secondary); margin-bottom:20px;"></i>
                <h3>Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø¨Ø§ ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ Ø®Ù†Ø¯Ù‡â€ŒØ¯Ø§Ø± Ù¾Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯!</h3>
            </div>
        </section>

    </main>

    <footer>
        <div class="container" style="text-align:center; padding: 30px; margin-top:50px; border-top:1px solid #ddd;">
            <p>&copy; 2026 FunZone. ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª.</p>
        </div>
    </footer>

    <script>
        // --- DATASETS (More content added) ---
        const jokesDB = [
            "ÛŒÙ‡ Ù†ÙØ± Ù…ÛŒØ±Ù‡ Ú©ØªØ§Ø¨ÙØ±ÙˆØ´ÛŒ Ù…ÛŒÚ¯Ù‡: Ø¢Ù‚Ø§ Ú©ØªØ§Ø¨ Â«Ú†Ú¯ÙˆÙ†Ù‡ ÛŒÚ© Ø´Ø¨Ù‡ Ù¾ÙˆÙ„Ø¯Ø§Ø± Ø´ÙˆÛŒÙ…Â» Ø±Ùˆ Ø¯Ø§Ø±ÛŒØ¯ØŸ ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ù…ÛŒÚ¯Ù‡: Ø¨Ù„Ù‡ØŒ ÙˆÙ„ÛŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ú©ØªØ§Ø¨ Â«Ú†Ú¯ÙˆÙ†Ù‡ Ø¨Ø§ Ù¾Ù„ÛŒØ³ Ø¨Ø±Ø®ÙˆØ±Ø¯ Ú©Ù†ÛŒÙ…Â» Ø±Ùˆ Ù‡Ù… Ø¨Ø®Ø±ÛŒØ¯!",
            "ÛŒØ§Ø±Ùˆ Ù…ÛŒØ±Ù‡ Ø¯Ú©ØªØ± Ù…ÛŒÚ¯Ù‡ Ø¢Ù‚Ø§ÛŒ Ø¯Ú©ØªØ± Ù‡Ø± Ø´Ø¨ Ø®ÙˆØ§Ø¨ Ù…ÛŒØ¨ÛŒÙ†Ù… Ø¯Ø§Ø±Ù… Ø¨Ø§ Ø®Ø±Ø§ ÙÙˆØªØ¨Ø§Ù„ Ø¨Ø§Ø²ÛŒ Ù…ÛŒÚ©Ù†Ù…. Ø¯Ú©ØªØ±Ù‡ Ù…ÛŒÚ¯Ù‡ Ø®Ø¨ Ø§Ù…Ø´Ø¨ Ù‚Ø±Øµ Ø¨Ø®ÙˆØ± Ø®ÙˆØ§Ø¨ Ù†Ø¨ÛŒÙ†ÛŒ. ÛŒØ§Ø±Ùˆ Ù…ÛŒÚ¯Ù‡ Ù†Ù‡ Ø§Ù…Ø´Ø¨ ÙÛŒÙ†Ø§Ù„Ù‡!",
            "Ø§Ø² ÛŒÙ‡ Ù†ÙØ± Ù…ÛŒÙ¾Ø±Ø³Ù†: Ú†Ø±Ø§ Ù¾Ø±Ù†Ø¯Ù‡ Ù‡Ø§ Ø²Ù…Ø³ØªÙˆÙ† Ú©Ù‡ Ù…ÛŒØ´Ù‡ Ù…ÛŒØ±Ù† Ø¬Ù†ÙˆØ¨ØŸ Ù…ÛŒÚ¯Ù‡: Ú†ÙˆÙ† Ø§Ú¯Ù‡ Ù¾ÛŒØ§Ø¯Ù‡ Ø¨Ø±Ù† Ø®ÛŒÙ„ÛŒ Ø±Ø§Ù‡Ù‡!",
            "Ù…Ø¹Ù„Ù…: Ú†Ø±Ø§ Ø§Ù†Ø´Ø§Øª Ø±Ùˆ Ù†Ù†ÙˆØ´ØªÛŒØŸ Ø¯Ø§Ù†Ø´ Ø¢Ù…ÙˆØ²: Ø¢Ù‚Ø§ Ù…Ø¹Ù„Ù…ØŒ Ù¾Ø¯Ø±Ø¨Ø²Ø±Ú¯Ù… ÙÙˆØª Ú©Ø±Ø¯. Ù…Ø¹Ù„Ù…: Ø®Ø¯Ø§ Ø¨ÛŒØ§Ù…Ø±Ø²Ù‡ØŒ ÙˆÙ„ÛŒ Ø§ÛŒÙ† Ú†Ù‡Ø§Ø±Ù…ÛŒÙ† Ù¾Ø¯Ø±Ø¨Ø²Ø±Ú¯Øª Ø¨ÙˆØ¯ Ú©Ù‡ Ø§Ù…Ø³Ø§Ù„ Ù…Ø±Ø¯!",
            "Ø­ÛŒÙ Ù†ÙˆÙ† Ø²Ù†Ú¯ Ù…ÛŒØ²Ù†Ù‡ Ø¢ØªØ´ Ù†Ø´Ø§Ù†ÛŒØŒ Ù…ÛŒÚ¯Ù‡ Ø¢Ù‚Ø§ ØªØ´Ø±ÛŒÙ Ø¨ÛŒØ§Ø±ÛŒØ¯ Ø§ÛŒÙ†Ø¬Ø§ Ø¢ØªÛŒØ´ Ú¯Ø±ÙØªÙ‡. Ø¢ØªØ´ Ù†Ø´Ø§Ù† Ù…ÛŒÚ¯Ù‡: Ú©Ø¬Ø§Ø³ØªØŸ Ù…ÛŒÚ¯Ù‡: Ù…Ú¯Ù‡ Ø´Ù…Ø§ Ø®ÙˆØ¯ØªÙˆÙ† Ø¢Ø¯Ø±Ø³ Ù†Ø¯Ø§Ø±ÛŒØ¯ØŸ",
            "Ù…ÙˆØ±Ø¯ Ø¯Ø§Ø´ØªÛŒÙ… Ø·Ø±Ù Ø±ÙØªÙ‡ Ø®ÙˆØ§Ø³ØªÚ¯Ø§Ø±ÛŒØŒ Ù¾Ø¯Ø± Ø¹Ø±ÙˆØ³ Ú¯ÙØªÙ‡ Ù…Ù‡Ø±ÛŒÙ‡ Ø¯Ø®ØªØ±Ù… Û±Û°Û°Û° ØªØ§ Ø³Ú©Ù‡ Ø§Ø³Øª. Ø·Ø±Ù Ú¯ÙØªÙ‡: Ø²ÛŒØ§Ø¯ Ù†ÛŒØ³ØªØŸ Ù¾Ø¯Ø± Ø¹Ø±ÙˆØ³ Ú¯ÙØªÙ‡: Ù…ÛŒØªÙˆÙ†ÛŒ Û±Û°Û°Û° ØªØ§ Ø±Ø¨Ø¹ Ø³Ú©Ù‡ Ø¨Ø¯ÛŒ! Ø¯Ø§Ù…Ø§Ø¯ Ù‡Ù… Ø®ÙˆØ´Ø­Ø§Ù„ Ø´Ø¯Ù‡ Ù‚Ø¨ÙˆÙ„ Ú©Ø±Ø¯Ù‡!",
            "ØºØ¶Ù†ÙØ± Ù…ÛŒØ±Ù‡ Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†ÛŒØŒ Ù…ÛŒÚ¯Ù‡: Ø¨Ù†Ø¯Ø±ÛŒ Ø¯Ø§Ø±ÛŒØ¯ØŸ Ø·Ø±Ù Ù…ÛŒÚ¯Ù‡: Ø¨Ù„Ù‡. ØºØ¶Ù†ÙØ± Ù…ÛŒÚ¯Ù‡: Ù¾Ø³ Ù‚Ø±Ø¨ÙˆÙ†Øª ÛŒÙ‡ Ø¯ÙˆÙ†Ù‡ Ø¨Ø°Ø§Ø±ØŒ Ø­Ø§Ù„Ø´Ùˆ Ù†Ø¯Ø§Ø±Ù… Ù¾Ø§Ø´Ù… Ø¨Ø±Ù‚ØµÙ…!",
            "Ø·Ø±Ù Ù…ÛŒØ±Ù‡ ØªÙˆ Ø®ÛŒØ§Ø¨ÙˆÙ† Ø¯Ø§Ø¯ Ù…ÛŒØ²Ù†Ù‡: Ù…Ù† Ø¨Ø¯Ø¨Ø®ØªÙ…ØŒ Ù…Ù† Ø¨ÛŒÚ†Ø§Ø±Ù…! ÛŒÚ©ÛŒ Ø±Ø¯ Ù…ÛŒØ´Ù‡ Ù…ÛŒÚ¯Ù‡: Ø¯Ø§Ø¯Ø§Ø´ Ø¯Ø§Ø¯ Ù†Ø²Ù†ØŒ ÙØ§Ù„ÙˆÙˆØ±Ø§Øª Ù…ÛŒØ±ÛŒØ²Ù‡!",
            "Ø¨Ø§Ø¨Ø§Ù… Ø§ÙˆÙ…Ø¯Ù‡ Ù…ÛŒÚ¯Ù‡ Ú†Ø±Ø§ Ø§ÛŒÙ†ØªØ±Ù†Øª Ù‚Ø·Ø¹Ù‡ØŸ Ù…ÛŒÚ¯Ù… Ù…ÙˆØ¯Ù… Ø³ÙˆØ®ØªÙ‡. Ù…ÛŒÚ¯Ù‡ Ø§ÛŒ Ø¨Ø§Ø¨Ø§ØŒ Ø­Ø§Ù„Ø§ Ú©ÛŒ Ù…ÛŒØ®ÙˆØ§Ø¯ Ø¨Ø±Ù‡ Ø²ØºØ§Ù„ Ø¨Ø®Ø±Ù‡!",
            "ÛŒÙ‡ Ø±ÙˆØ² ÛŒÙ‡ Ù…Ø±Ø¯Ù‡ Ù…ÛŒØ®ÙˆØ±Ù‡ Ø¨Ù‡ Ù†Ø±Ø¯Ù‡ØŒ Ø¨Ø±Ù…ÛŒÚ¯Ø±Ø¯Ù‡! (Ø¨Ø¨Ø®Ø´ÛŒØ¯ Ø³Ø·Ø­ Ø¬ÙˆÚ©â€ŒÙ‡Ø§ Ø¨Ø§Ù„Ø§ Ù¾Ø§ÛŒÛŒÙ† Ø¯Ø§Ø±Ù‡!)",
            "Ø±ÙØªÙ… Ø¯Ú©ØªØ± Ú¯ÙØªÙ… Ø¢Ù‚Ø§ÛŒ Ø¯Ú©ØªØ± ÙˆÙ‚ØªÛŒ Ú†Ø§ÛŒ Ù…ÛŒØ®ÙˆØ±Ù… Ú†Ø´Ù…Ù… Ø¯Ø±Ø¯ Ù…ÛŒÚ¯ÛŒØ±Ù‡. Ø¯Ú©ØªØ± Ú¯ÙØª: Ø®Ø¨ Ù‚Ø§Ø´Ù‚ Ø±Ùˆ Ø§Ø² ØªÙˆ Ù„ÛŒÙˆØ§Ù† Ø¯Ø± Ø¨ÛŒØ§Ø±!",
            "Ø­ÛŒÙ Ù†ÙˆÙ† Ø¯Ø§Ø´Øª Ø±Ø§Ø¯ÛŒÙˆ Ø¨Ø§Ø² Ù…ÛŒÚ©Ø±Ø¯ØŒ Ù‚Ø·Ø¹Ø§ØªØ´ Ø±Ùˆ Ù…ÛŒØ±ÛŒØ®Øª Ø¨ÛŒØ±ÙˆÙ†. Ø¨Ù‡Ø´ Ù…ÛŒÚ¯Ù† Ú†ÛŒÚ©Ø§Ø± Ù…ÛŒÚ©Ù†ÛŒØŸ Ù…ÛŒÚ¯Ù‡ Ø¯Ø§Ø±Ù… Ø§ÙˆÙ† Ú¯ÙˆÛŒÙ†Ø¯Ù‡ Ø¨ÛŒ Ø§Ø¯Ø¨ Ø±Ùˆ Ù¾ÛŒØ¯Ø§ Ù…ÛŒÚ©Ù†Ù… Ú©Ù‡ Ù‡Ù…Ø´ ÙˆØ³Ø· Ø¢Ù‡Ù†Ú¯ Ø­Ø±Ù Ù…ÛŒØ²Ù†Ù‡!",
            "Ø·Ø±Ù Ø¨Ø§ Ù…Ø§Ø´ÛŒÙ† Ù…ÛŒØ±Ù‡ ØªÙˆ Ø¯Ø±Ù‡. Ù¾Ù„ÛŒØ³ Ù…ÛŒØ§Ø¯ Ù…ÛŒÚ¯Ù‡ Ú†Ø±Ø§ Ù†Ù¾ÛŒÚ†ÛŒØ¯ÛŒØŸ Ù…ÛŒÚ¯Ù‡ Ø±Ø§Ù‡Ù†Ù…Ø§ Ø²Ø¯Ù…ØŒ Ú©ÙˆÙ‡ Ú©Ù†Ø§Ø± Ù†Ø±ÙØª!",
            "Ø§Ø² Ù¾Ø³Ø±Ù‡ Ù…ÛŒÙ¾Ø±Ø³Ù† Ù…Ø§Ù‡ Ø¹Ø³Ù„ Ø®ÙˆØ´ Ú¯Ø°Ø´ØªØŸ Ù…ÛŒÚ¯Ù‡ Ø®ÛŒÙ„ÛŒØŒ ÙˆÙ„ÛŒ Ø­ÛŒÙ Ø²Ù†Ù… Ù†ÛŒÙˆÙ…Ø¯!",
            "Ø±ÙØªÙ… Ø¨Ø§Ù†Ú© ÙˆØ§Ù… Ø¨Ú¯ÛŒØ±Ù…ØŒ Ø¶Ø§Ù…Ù† Ø®ÙˆØ§Ø³ØªÙ†. Ú¯ÙØªÙ… Ø¶Ø§Ù…Ù† Ù†Ø¯Ø§Ø±Ù… ÙˆÙ„ÛŒ Ø¨Ù…Ø¨ Ø¯Ø§Ø±Ù…! Ø§Ù„Ø§Ù† Ø¯Ø§Ø±Ù… Ø§Ø² Ø²Ù†Ø¯Ø§Ù† Ù¾Ø³Øª Ù…ÛŒØ°Ø§Ø±Ù….",
            "Ù…Ù‡Ù…Ø§Ù†: Ø¢Ù‚Ø§ Ù¾Ø³Ø± Ú†Ù‡ Ú©Ø§Ø±Ù‡â€ŒØ§ÛŒÙ†ØŸ Ù¾Ø³Ø±: Ø¯Ø±Ø³ Ù…ÛŒØ®ÙˆÙ†Ù…. Ù…Ù‡Ù…Ø§Ù†: Ø¨Ø§Ø±ÛŒÚ©Ù„Ø§ØŒ Ú†Ù‡ Ø±Ø´ØªÙ‡â€ŒØ§ÛŒØŸ Ù¾Ø³Ø±: Ø±Ø´ØªÙ‡ ÙÛŒØ¨Ø± Ù†ÙˆØ±ÛŒ! (Ù…Ù†Ø¸ÙˆØ±Ø´ Ø§ÛŒÙ†ØªØ±Ù†Øª Ú¯Ø±Ø¯ÛŒÙ‡)",
            "Ø´Ø§Ù…Ù¾Ùˆ Ø®Ø±ÛŒØ¯Ù… Ø±ÙˆØ´ Ù†ÙˆØ´ØªÙ‡: Â«Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ø±Ø§ Ø±ÙˆÛŒ Ø³Ø±ØªØ§Ù† Ø¨Ø±ÛŒØ²ÛŒØ¯Â». ÙˆØ§Ù‚Ø¹Ø§ Ø§Ú¯Ù‡ Ù†Ù…ÛŒÙ†ÙˆØ´Øª Ù…Ù† Ù…ÛŒØ±ÛŒØ®ØªÙ… ØªÙˆ Ú©ÙØ´Ù… Ø±Ø§Ù‡ Ù…ÛŒØ±ÙØªÙ… Ú©Ù‡ Ù‚Ø¯ Ø¨Ú©Ø´Ù…!",
            "Ù†ØµÛŒØ­Øª Ù¾Ø¯Ø±Ø§Ù†Ù‡: Ù¾Ø³Ø±Ù…ØŒ Ù‡ÛŒÚ†ÙˆÙ‚Øª Ø¨Ø§ Ø¢Ø¯Ù… Ù†Ø§Ø¯Ø§Ù† Ø¨Ø­Ø« Ù†Ú©Ù†. Ú†ÙˆÙ† Ù…Ø±Ø¯Ù… ØªÙØ§ÙˆØª Ø´Ù…Ø§ Ø±Ùˆ Ù…ØªÙˆØ¬Ù‡ Ù†Ù…ÛŒØ´Ù†!",
            "ÛŒÙ‡ Ù…ÙˆØ±Ú†Ù‡ Ù…ÛŒØ±Ù‡ Ø±ÙˆÛŒ Ú©ÙˆÙ‡ Ø¯Ø§Ø¯ Ù…ÛŒØ²Ù†Ù‡: Ù…Ù† Ø³Ù„Ø·Ø§Ù† Ø¬Ù†Ú¯Ù„Ù…! Ø´ÛŒØ± Ù…ÛŒÚ¯Ù‡: Ø¨ÛŒØ§ Ù¾Ø§ÛŒÛŒÙ† Ø¨Ø§Ø¨Ø§ØŒ Ø³Ø±Øª Ú¯ÛŒØ¬ Ù…ÛŒØ±Ù‡!",
            "Ø­ÛŒÙ Ù†ÙˆÙ† Ù…ÛŒØ±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ Ø¨Ø¯Ù‡ØŒ Ø§ÙØ³Ø± Ù…ÛŒÙ¾Ø±Ø³Ù‡: Ø§Ú¯Ù‡ ÛŒÙ‡ Ù†ÙØ± ÙˆØ³Ø· Ø®ÛŒØ§Ø¨ÙˆÙ† Ø¨ÙˆØ¯ Ú†ÛŒÚ©Ø§Ø± Ù…ÛŒÚ©Ù†ÛŒØŸ Ù…ÛŒÚ¯Ù‡: Ù…ÛŒØ²Ù†Ù… Ø¨Ù‡Ø´! Ø§ÙØ³Ø± Ù…ÛŒÚ¯Ù‡: Ø±Ø¯ Ø´Ø¯ÛŒØŒ Ø¨Ø§ÛŒØ¯ Ø¨ÙˆÙ‚ Ø¨Ø²Ù†ÛŒ!"
        ];

        const riddlesDB = [
            { q: "Ø¢Ù† Ú†ÛŒØ³Øª Ú©Ù‡ Ù‡Ø±Ú†Ù‡ Ø§Ø² Ø¢Ù† Ø¨Ø±Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø²Ø±Ú¯ØªØ± Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ", a: "Ú¯ÙˆØ¯Ø§Ù„" },
            { q: "Ø¢Ù† Ú†ÛŒØ³Øª Ú©Ù‡ ÙˆÙ‚ØªÛŒ Ù‡ÙˆØ§ Ú¯Ø±Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ù„Ø¨Ø§Ø³ Ù…ÛŒâ€ŒÙ¾ÙˆØ´Ø¯ Ùˆ ÙˆÙ‚ØªÛŒ Ø³Ø±Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ù„Ø¨Ø§Ø³ Ø¯Ø± Ù…ÛŒâ€ŒØ¢ÙˆØ±Ø¯ØŸ", a: "Ø¯Ø±Ø®Øª" },
            { q: "Ø¢Ù† Ú†ÛŒØ³Øª Ú©Ù‡ Ø´Ù‡Ø± Ø¯Ø§Ø±Ø¯ Ø§Ù…Ø§ Ø®Ø§Ù†Ù‡ Ù†Ù‡ØŒ Ú©ÙˆÙ‡ Ø¯Ø§Ø±Ø¯ Ø§Ù…Ø§ Ø¯Ø±Ø®Øª Ù†Ù‡ØŒ Ùˆ Ø¢Ø¨ Ø¯Ø§Ø±Ø¯ Ø§Ù…Ø§ Ù…Ø§Ù‡ÛŒ Ù†Ù‡ØŸ", a: "Ù†Ù‚Ø´Ù‡" },
            { q: "Ø¢Ù† Ú†ÛŒØ³Øª Ú©Ù‡ Ø³Ø± Ù†Ø¯Ø§Ø±Ø¯ØŒ Ú©Ù„Ø§Ù‡ Ø¯Ø§Ø±Ø¯ØŒ ÛŒÚ© Ù¾Ø§ Ø¯Ø§Ø±Ø¯ Ùˆ Ú©ÙØ´ Ù†Ø¯Ø§Ø±Ø¯ØŸ", a: "Ù‚Ø§Ø±Ú†" },
            { q: "Ø¢Ù† Ú†ÛŒØ³Øª Ú©Ù‡ Ø§Ú¯Ø± Ù†Ø§Ù…Ø´ Ø±Ø§ ØµØ¯Ø§ Ø¨Ø²Ù†ÛŒØŒ Ù…ÛŒâ€ŒØ´Ú©Ù†Ø¯ØŸ", a: "Ø³Ú©ÙˆØª" },
            { q: "Ø¨Ø±Ø§Ø¯Ø±Ù Ø²Ù†Ù Ø¯Ø§ÛŒÛŒÙ Ø¨Ø±Ø§Ø¯Ø±Ù… Ú†Ù‡ Ù†Ø³Ø¨ØªÛŒ Ø¨Ø§ Ù…Ù† Ø¯Ø§Ø±Ø¯ØŸ", a: "Ø¯Ø§ÛŒÛŒ Ø®ÙˆØ¯Ù…!" },
            { q: "Ø¢Ù† Ú†ÛŒØ³Øª Ú©Ù‡ Ù‡Ù…Ù‡ Ú†ÛŒØ² Ø±Ø§ Ù…ÛŒâ€ŒØ®ÙˆØ±Ø¯ Ø§Ù…Ø§ Ø§Ú¯Ø± Ø¢Ø¨ Ø¨Ø®ÙˆØ±Ø¯ Ù…ÛŒâ€ŒÙ…ÛŒØ±Ø¯ØŸ", a: "Ø¢ØªØ´" },
            { q: "Ø¢Ù† Ú†ÛŒØ³Øª Ú©Ù‡ Ø±ÙˆØ² Ùˆ Ø´Ø¨ Ø±Ø§Ù‡ Ù…ÛŒâ€ŒØ±ÙˆØ¯ Ø§Ù…Ø§ Ø®Ø³ØªÙ‡ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ", a: "Ø³Ø§Ø¹Øª" },
            { q: "Ø¢Ù† Ú†ÛŒØ³Øª Ú©Ù‡ ÛŒÚ© Ú†Ø´Ù… Ø¯Ø§Ø±Ø¯ Ø§Ù…Ø§ Ù†Ù…ÛŒâ€ŒØ¨ÛŒÙ†Ø¯ØŸ", a: "Ø³ÙˆØ²Ù†" },
            { q: "Ø¢Ù† Ú†ÛŒØ³Øª Ú©Ù‡ Ù…ØªØ¹Ù„Ù‚ Ø¨Ù‡ Ø´Ù…Ø§Ø³ØªØŒ Ø§Ù…Ø§ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ø¨ÛŒØ´ØªØ± Ø§Ø² Ø´Ù…Ø§ Ø§Ø² Ø¢Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ØŸ", a: "Ø§Ø³Ù… Ø´Ù…Ø§" }
        ];

        const typingSentences = [
            "Ù…ÙˆØ´ Ú©ÙˆÚ†ÙˆÙ„Ùˆ Ù¾Ø±ÛŒØ¯ ØªÙˆÛŒ Ø³ÙˆØ±Ø§Ø® Ùˆ Ù‚Ø§ÛŒÙ… Ø´Ø¯.",
            "Ø¢Ø³Ù…Ø§Ù† Ø´Ø¨ Ù¾Ø± Ø§Ø² Ø³ØªØ§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø±Ø®Ø´Ø§Ù† Ø§Ø³Øª.",
            "Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ø±ÙˆØ¨Ø§Ù‡ Ù‚Ù‡ÙˆÙ‡â€ŒØ§ÛŒ Ø§Ø² Ø±ÙˆÛŒ Ø³Ú¯ ØªÙ†Ø¨Ù„ Ù…ÛŒâ€ŒÙ¾Ø±Ø¯.",
            "Ø²Ù†Ø¯Ú¯ÛŒ Ù…Ø«Ù„ Ø¯ÙˆÚ†Ø±Ø®Ù‡â€ŒØ³ÙˆØ§Ø±ÛŒ Ø§Ø³ØªØŒ Ø¨Ø±Ø§ÛŒ Ø­ÙØ¸ ØªØ¹Ø§Ø¯Ù„ Ø¨Ø§ÛŒØ¯ Ø­Ø±Ú©Øª Ú©Ù†ÛŒ.",
            "Ù‡Ø± Ú©Ù‡ Ø¨Ø§Ù…Ø´ Ø¨ÛŒØ´ØŒ Ø¨Ø±ÙØ´ Ø¨ÛŒØ´ØªØ±."
        ];

        // --- GLOBAL VARIABLES ---
        let currentRiddleIndex = 0;
        let snakeGameInterval;

        // --- NAVIGATION ---
        function showSection(sectionId) {
            document.querySelectorAll('main > section').forEach(sec => sec.classList.add('hidden'));
            const target = document.getElementById(sectionId);
            if(target) target.classList.remove('hidden');
            if(sectionId !== 'home') window.scrollTo(0, 0);
            closeGame();
        }

        // --- THEME & TYPEWRITER ---
        const themeBtn = document.getElementById('themeBtn');
        let isDark = false;
        themeBtn.addEventListener('click', () => {
            isDark = !isDark;
            document.body.setAttribute('data-theme', isDark ? 'dark' : 'light');
            themeBtn.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
        });

        const subtitles = ["Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯!", "Ø¬Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø®Ù†Ø¯ÛŒØ¯Ù†...", "Ø±Ú©ÙˆØ±Ø¯Øª Ø±Ùˆ Ø«Ø¨Øª Ú©Ù†", "Ø¯Ù†ÛŒØ§ÛŒÛŒ Ø§Ø² Ø³Ø±Ú¯Ø±Ù…ÛŒ"];
        let subIndex = 0, charIndex = 0, isDeleting = false;
        
        function typeWriter() {
            const current = subtitles[subIndex];
            const el = document.getElementById('typing-text');
            if (!isDeleting && charIndex <= current.length) {
                el.textContent = current.substring(0, charIndex++);
                setTimeout(typeWriter, 100);
            } else if (isDeleting && charIndex >= 0) {
                el.textContent = current.substring(0, charIndex--);
                setTimeout(typeWriter, 50);
            } else {
                isDeleting = !isDeleting;
                if(!isDeleting) subIndex = (subIndex + 1) % subtitles.length;
                setTimeout(typeWriter, isDeleting ? 2000 : 500);
            }
        }
        typeWriter();

        // --- CONTENT LOGIC (Jokes & Riddles) ---
        function newJoke() {
            const el = document.getElementById('joke-text');
            el.style.opacity = 0;
            setTimeout(() => {
                const rand = Math.floor(Math.random() * jokesDB.length);
                el.textContent = jokesDB[rand];
                el.style.opacity = 1;
            }, 300);
        }
        
        function newRiddle() {
            currentRiddleIndex = Math.floor(Math.random() * riddlesDB.length);
            document.getElementById('riddle-text').textContent = riddlesDB[currentRiddleIndex].q;
            document.getElementById('riddle-answer').textContent = riddlesDB[currentRiddleIndex].a;
            document.getElementById('riddle-answer-box').style.display = 'none';
        }
        
        function toggleRiddleAnswer() {
            const box = document.getElementById('riddle-answer-box');
            box.style.display = box.style.display === 'none' ? 'block' : 'none';
        }

        // Initialize Content
        newJoke();
        newRiddle();

        // --- GAME SYSTEM CONTROLLER ---
        function loadGame(gameType) {
            const arena = document.getElementById('active-game-area');
            const board = document.getElementById('game-board-content');
            const title = document.getElementById('game-title');
            const list = document.getElementById('games-list');
            const status = document.getElementById('game-status');

            list.style.display = 'none';
            arena.classList.add('active');
            status.textContent = '';
            board.innerHTML = ''; // Clear previous game

            if (gameType === 'tictactoe') {
                title.textContent = "Ø¯ÙˆØ²"; startTicTacToe(board, status);
            } else if (gameType === 'guess') {
                title.textContent = "Ø­Ø¯Ø³ Ø¹Ø¯Ø¯"; startGuessNumber(board, status);
            } else if (gameType === 'memory') {
                title.textContent = "Ø­Ø§ÙØ¸Ù‡ ØªØµÙˆÛŒØ±ÛŒ"; startMemoryGame(board, status);
            } else if (gameType === 'typing') {
                title.textContent = "ØªØ§ÛŒÙ¾ Ø³Ø±ÛŒØ¹"; startTypingGame(board, status);
            } else if (gameType === 'snake') {
                title.textContent = "Ù…Ø§Ø± (Snake)"; startSnakeGame(board, status);
            }
        }

        function closeGame() {
            document.getElementById('active-game-area').classList.remove('active');
            document.getElementById('games-list').style.display = 'grid';
            
            // Stop Loops
            if(snakeGameInterval) clearInterval(snakeGameInterval);
            window.removeEventListener('keydown', snakeKeyHandler); // Cleanup
        }

        // --- 1. TIC TAC TOE ---
        let tttBoard = [];
        function startTicTacToe(container, status) {
            tttBoard = Array(9).fill('');
            status.textContent = "Ù†ÙˆØ¨Øª Ø´Ù…Ø§ (X)";
            let html = '<div class="ttt-board">';
            for(let i=0; i<9; i++) html += `<div class="ttt-cell" id="c${i}" onclick="tttMove(${i})"></div>`;
            container.innerHTML = html + '</div>';
            window.tttActive = true;
        }
        window.tttMove = function(i) {
            if(!window.tttActive || tttBoard[i]) return;
            tttBoard[i] = 'X'; updateTTT(i, 'X');
            if(checkTTT('X')) { endTTT('Ø´Ù…Ø§ Ø¨Ø±Ø¯ÛŒØ¯! ğŸ‰'); return; }
            if(!tttBoard.includes('')) { endTTT('Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯!'); return; }
            
            // AI
            setTimeout(() => {
                if(!window.tttActive) return;
                let empty = tttBoard.map((v,k)=>v===''?k:null).filter(v=>v!==null);
                let rand = empty[Math.floor(Math.random()*empty.length)];
                tttBoard[rand] = 'O'; updateTTT(rand, 'O');
                if(checkTTT('O')) endTTT('Ø¨Ø§Ø®ØªÛŒ! ğŸ¤–');
            }, 400);
        };
        function updateTTT(i, p) {
            const cell = document.getElementById(`c${i}`);
            cell.textContent = p; cell.classList.add(p.toLowerCase());
        }
        function checkTTT(p) {
            const wins = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
            return wins.some(w => tttBoard[w[0]]===p && tttBoard[w[1]]===p && tttBoard[w[2]]===p);
        }
        function endTTT(msg) { document.getElementById('game-status').textContent = msg; window.tttActive = false; }

        // --- 2. GUESS NUMBER ---
        function startGuessNumber(container, status) {
            let target = Math.floor(Math.random()*100)+1;
            let tries = 0;
            container.innerHTML = `
                <p>Ø¹Ø¯Ø¯ Ø¨ÛŒÙ† Û± ØªØ§ Û±Û°Û°</p>
                <input type="number" id="gInput" class="btn" style="background:white;border:1px solid #aaa;width:100px;margin:10px;">
                <button class="btn btn-primary" onclick="checkGuessNum()">Ø­Ø¯Ø³</button>
            `;
            window.checkGuessNum = () => {
                let val = +document.getElementById('gInput').value;
                tries++;
                if(val === target) status.innerHTML = `<span style="color:green">Ø¯Ø±Ø³Øª Ø¨ÙˆØ¯! ØªØ¹Ø¯Ø§Ø¯ ØªÙ„Ø§Ø´: ${tries}</span>`;
                else status.textContent = val < target ? "Ø¨ÛŒØ´ØªØ±..." : "Ú©Ù…ØªØ±...";
            };
        }

        // --- 3. MEMORY GAME ---
        function startMemoryGame(container, status) {
            const emojis = ['ğŸ•','ğŸš€','ğŸ±','ğŸŒµ','ğŸˆ','ğŸ’','ğŸ¸','ğŸ¦'];
            let cards = [...emojis, ...emojis].sort(() => 0.5 - Math.random());
            let flipped = [], matched = 0;
            
            let html = '<div class="memory-grid">';
            cards.forEach((emoji, i) => {
                html += `<div class="memory-card" id="mc${i}" onclick="flipCard(${i}, '${emoji}')"><div class="back"></div></div>`;
            });
            container.innerHTML = html + '</div>';
            status.textContent = "Ø¬ÙØªâ€ŒÙ‡Ø§ Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ù†!";

            window.flipCard = (i, emoji) => {
                let card = document.getElementById(`mc${i}`);
                if(card.classList.contains('flipped') || flipped.length >= 2) return;
                
                card.classList.add('flipped');
                card.textContent = emoji;
                flipped.push({id: i, emoji: emoji});

                if(flipped.length === 2) {
                    if(flipped[0].emoji === flipped[1].emoji) {
                        matched++;
                        flipped = [];
                        if(matched === 8) status.textContent = "ØªØ¨Ø±ÛŒÚ©! ØªÙ…Ø§Ù… Ø´Ø¯ÛŒ! ğŸ‰";
                    } else {
                        setTimeout(() => {
                            document.getElementById(`mc${flipped[0].id}`).classList.remove('flipped');
                            document.getElementById(`mc${flipped[0].id}`).textContent = '';
                            document.getElementById(`mc${flipped[1].id}`).classList.remove('flipped');
                            document.getElementById(`mc${flipped[1].id}`).textContent = '';
                            flipped = [];
                        }, 1000);
                    }
                }
            };
        }

        // --- 4. TYPING GAME ---
        function startTypingGame(container, status) {
            let sentence = typingSentences[Math.floor(Math.random() * typingSentences.length)];
            let startTime = null;
            
            container.innerHTML = `
                <div class="typing-area">
                    <div class="typing-text">${sentence}</div>
                    <input type="text" class="typing-input" placeholder="Ø´Ø±ÙˆØ¹ Ø¨Ù‡ ØªØ§ÛŒÙ¾ Ú©Ù†..." oninput="checkTyping(this)">
                </div>
            `;
            
            window.checkTyping = (input) => {
                if(!startTime) startTime = new Date();
                let val = input.value;
                if(val === sentence) {
                    let time = ((new Date() - startTime) / 1000).toFixed(1);
                    status.innerHTML = `<span style="color:green">Ø¹Ø§Ù„ÛŒ! Ø²Ù…Ø§Ù†: ${time} Ø«Ø§Ù†ÛŒÙ‡</span>`;
                    input.disabled = true;
                } else if (sentence.startsWith(val)) {
                    status.textContent = "Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø¯Ù‡...";
                    status.style.color = "orange";
                } else {
                    status.textContent = "ØºÙ„Ø· Ø´Ø¯!";
                    status.style.color = "red";
                }
            };
        }

        // --- 5. SNAKE GAME ---
        let snakeKeyHandler; 
        function startSnakeGame(container, status) {
            container.innerHTML = '<canvas id="snakeCanvas" width="300" height="300"></canvas>';
            const ctx = document.getElementById('snakeCanvas').getContext('2d');
            
            let snake = [{x:10, y:10}];
            let food = {x:15, y:15};
            let dx = 0, dy = 0;
            let score = 0;
            let gridSize = 15; // 20x20 grid
            let tileCount = 20;

            status.textContent = "Ø¨Ø§ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ù‡Øªâ€ŒÙ†Ù…Ø§ Ø­Ø±Ú©Øª Ú©Ù† (Ø§Ù…ØªÛŒØ§Ø²: 0)";

            function gameLoop() {
                // Move
                let head = {x: snake[0].x + dx, y: snake[0].y + dy};

                // Wall Collision
                if(head.x < 0) head.x = tileCount-1;
                if(head.x >= tileCount) head.x = 0;
                if(head.y < 0) head.y = tileCount-1;
                if(head.y >= tileCount) head.y = 0;

                // Self Collision
                if(snake.some(s => s.x === head.x && s.y === head.y) && (dx!==0 || dy!==0)) {
                    status.textContent = `Ø¨Ø§Ø®ØªÛŒ! Ø§Ù…ØªÛŒØ§Ø² Ù†Ù‡Ø§ÛŒÛŒ: ${score}`;
                    clearInterval(snakeGameInterval);
                    return;
                }

                snake.unshift(head);

                // Eat Food
                if(head.x === food.x && head.y === food.y) {
                    score++;
                    status.textContent = `Ø§Ù…ØªÛŒØ§Ø²: ${score}`;
                    food = {x: Math.floor(Math.random()*tileCount), y: Math.floor(Math.random()*tileCount)};
                } else {
                    snake.pop(); // Remove tail if not eating
                }

                // Draw
                ctx.fillStyle = getComputedStyle(document.body).getPropertyValue('--dark');
                ctx.fillRect(0, 0, 300, 300);

                ctx.fillStyle = getComputedStyle(document.body).getPropertyValue('--primary');
                snake.forEach(part => ctx.fillRect(part.x*gridSize, part.y*gridSize, gridSize-2, gridSize-2));

                ctx.fillStyle = getComputedStyle(document.body).getPropertyValue('--accent');
                ctx.fillRect(food.x*gridSize, food.y*gridSize, gridSize-2, gridSize-2);
            }

            snakeKeyHandler = (e) => {
                if([37,38,39,40].includes(e.keyCode)) e.preventDefault(); // Stop scroll
                if(e.keyCode===37 && dx===0) { dx=-1; dy=0; }
                if(e.keyCode===38 && dy===0) { dx=0; dy=-1; }
                if(e.keyCode===39 && dx===0) { dx=1; dy=0; }
                if(e.keyCode===40 && dy===0) { dx=0; dy=1; }
            };
            window.addEventListener('keydown', snakeKeyHandler);
            snakeGameInterval = setInterval(gameLoop, 150);
        }

    </script>
</body>
</html>
