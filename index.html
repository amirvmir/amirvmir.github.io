<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FunZone | Ù¾Ù„ØªÙØ±Ù… Ø³Ø±Ú¯Ø±Ù…ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;700&family=Press+Start+2P&family=Vazirmatn:wght@400;700;900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        /* --- CSS Variables & Reset --- */
        :root {
            --primary: #FF6B6B;
            --secondary: #4ECDC4;
            --accent: #FFD166;
            --dark: #1A1A2E;
            --light: #F7FFF7;
            --text-main: #2d3436;
            --card-bg: #ffffff;
            --shadow: 0 10px 20px rgba(0,0,0,0.1);
            --font-heading: 'Fredoka One', 'Vazirmatn', cursive;
            --font-body: 'Nunito', 'Vazirmatn', sans-serif;
            --font-game: 'Press Start 2P', cursive;
        }

        [data-theme="dark"] {
            --primary: #FF8787;
            --secondary: #45B7AF;
            --light: #16213E; /* Adjusted background for dark mode */
            --text-main: #F7FFF7;
            --card-bg: #1A1A2E;
            --shadow: 0 10px 20px rgba(0,0,0,0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        body {
            font-family: var(--font-body);
            background-color: var(--light);
            color: var(--text-main);
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* --- Utility Classes --- */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .btn {
            padding: 10px 25px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: var(--font-heading);
            font-size: 1rem;
            transition: transform 0.2s, box-shadow 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .btn-primary { background-color: var(--primary); color: white; }
        .btn-secondary { background-color: var(--secondary); color: white; }
        .btn-accent { background-color: var(--accent); color: var(--dark); }
        .section-title {
            font-family: var(--font-heading);
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary);
            position: relative;
        }
        .hidden { display: none !important; }

        /* --- Header --- */
        header {
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        [data-theme="dark"] header { background-color: rgba(26, 26, 46, 0.95); }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }

        .logo {
            font-family: var(--font-heading);
            font-size: 1.8rem;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .logo i { animation: bounce 2s infinite; }

        .nav-menu { display: flex; list-style: none; gap: 20px; }
        .nav-link {
            text-decoration: none;
            color: var(--text-main);
            font-weight: 700;
            position: relative;
            cursor: pointer;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 3px;
            background: var(--secondary);
            transition: width 0.3s;
        }
        .nav-link:hover::after { width: 100%; }

        .header-actions { display: flex; gap: 15px; align-items: center; }
        .theme-toggle { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--text-main); }

        /* --- Hero Section --- */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            overflow: hidden;
            padding-top: 70px;
        }
        
        /* Animated Background Elements */
        .hero-bg-shape {
            position: absolute;
            border-radius: 50%;
            opacity: 0.1;
            z-index: -1;
            animation: float 6s ease-in-out infinite;
        }
        .shape-1 { width: 300px; height: 300px; background: var(--primary); top: 10%; left: -50px; }
        .shape-2 { width: 200px; height: 200px; background: var(--secondary); bottom: 20%; right: -30px; animation-delay: 2s; }
        .shape-3 { width: 150px; height: 150px; background: var(--accent); top: 20%; right: 20%; animation-delay: 4s; }

        .hero-content h1 {
            font-size: 4rem;
            font-family: var(--font-heading);
            margin-bottom: 20px;
            line-height: 1.2;
        }
        .hero-subtitle {
            font-size: 1.5rem;
            margin-bottom: 40px;
            min-height: 1.5em;
            color: var(--secondary);
            font-weight: bold;
        }
        .hero-buttons { display: flex; justify-content: center; gap: 20px; }

        /* --- Games Section --- */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            padding: 50px 0;
        }
        .game-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            box-shadow: var(--shadow);
            border: 2px solid transparent;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        .game-card:hover { transform: translateY(-10px); border-color: var(--secondary); }
        .game-icon { font-size: 3rem; margin-bottom: 15px; color: var(--accent); }
        .game-card h3 { margin-bottom: 10px; font-family: var(--font-game); font-size: 1.2rem; }
        .game-card p { margin-bottom: 20px; font-size: 0.9rem; opacity: 0.8; }

        /* Game Board Area (Modal/Overlay) */
        .game-arena {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: var(--shadow);
            text-align: center;
            display: none; /* Hidden by default */
        }
        .game-arena.active { display: block; animation: fadeIn 0.5s; }
        
        /* Tic Tac Toe Specific */
        .ttt-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            max-width: 300px;
            margin: 20px auto;
        }
        .ttt-cell {
            background: var(--light);
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-family: var(--font-game);
            cursor: pointer;
            border-radius: 10px;
            border: 2px solid var(--secondary);
        }
        .ttt-cell.x { color: var(--primary); }
        .ttt-cell.o { color: var(--accent); }

        /* --- Jokes Section --- */
        .joke-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
            box-shadow: var(--shadow);
            position: relative;
        }
        .joke-content { font-size: 1.5rem; margin-bottom: 30px; line-height: 1.6; }
        .joke-category {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--accent);
            padding: 5px 20px;
            border-radius: 20px;
            font-weight: bold;
            color: var(--dark);
        }

        /* --- Videos & Gallery --- */
        .media-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .media-card {
            background: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        .media-placeholder {
            height: 200px;
            background: #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 3rem;
        }
        .media-info { padding: 15px; }

        /* --- Footer --- */
        footer {
            background: var(--dark);
            color: white;
            padding: 50px 0 20px;
            margin-top: 50px;
        }
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 30px;
        }
        .footer-col h4 { color: var(--accent); margin-bottom: 20px; font-family: var(--font-heading); }
        .footer-col ul { list-style: none; }
        .footer-col ul li { margin-bottom: 10px; }
        .footer-col ul li a { color: #ccc; text-decoration: none; }
        .social-icons a { color: white; margin-right: 15px; font-size: 1.5rem; }

        /* --- Animations --- */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Responsive */
        @media (max-width: 768px) {
            .hero-content h1 { font-size: 2.5rem; }
            .nav-menu { display: none; } /* Simplified for mobile */
            .mobile-menu-btn { display: block; }
        }
    </style>
</head>
<body>

    <header>
        <div class="container nav-container">
            <div class="logo">
                <i class="fas fa-gamepad"></i>
                <span>FunZone</span>
            </div>
            <ul class="nav-menu">
                <li onclick="showSection('home')" class="nav-link">Ø®Ø§Ù†Ù‡</li>
                <li onclick="showSection('games')" class="nav-link">Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§</li>
                <li onclick="showSection('jokes')" class="nav-link">Ø¬ÙˆÚ©â€ŒØ¯ÙˆÙ†ÛŒ</li>
                <li onclick="showSection('videos')" class="nav-link">ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§</li>
                <li onclick="showSection('challenges')" class="nav-link">Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§</li>
            </ul>
            <div class="header-actions">
                <button class="theme-toggle" id="themeBtn"><i class="fas fa-moon"></i></button>
                <button class="btn btn-primary" style="font-size:0.9rem;">ÙˆØ±ÙˆØ¯</button>
            </div>
        </div>
    </header>

    <main id="main-content">

        <section id="home" class="hero">
            <div class="hero-bg-shape shape-1"></div>
            <div class="hero-bg-shape shape-2"></div>
            <div class="hero-bg-shape shape-3"></div>
            
            <div class="container hero-content">
                <h1>Ø¯Ù†ÛŒØ§ÛŒ Ø³Ø±Ú¯Ø±Ù…ÛŒ<br><span style="color:var(--primary)">Ø¨ÛŒâ€ŒÙ†Ù‡Ø§ÛŒØª</span></h1>
                <div class="hero-subtitle" id="typing-text"></div>
                <div class="hero-buttons">
                    <button class="btn btn-primary" onclick="showSection('games')">Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ <i class="fas fa-play"></i></button>
                    <button class="btn btn-secondary" onclick="showSection('jokes')">Ø¨Ø®Ù†Ù€Ù€Ø¯! <i class="fas fa-laugh"></i></button>
                </div>
            </div>
        </section>

        <section id="games" class="container hidden" style="padding-top: 100px;">
            <h2 class="section-title">Ù…Ù†Ø·Ù‚Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§</h2>
            
            <div id="active-game-area" class="game-arena">
                <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                    <h3 id="game-title">Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ø²ÛŒ</h3>
                    <button class="btn btn-accent" onclick="closeGame()">Ø®Ø±ÙˆØ¬ Ø§Ø² Ø¨Ø§Ø²ÛŒ</button>
                </div>
                <div id="game-board-content"></div>
                <div id="game-status" style="margin-top:20px; font-weight:bold;"></div>
            </div>

            <div class="games-grid" id="games-list">
                <div class="game-card">
                    <div class="game-icon"><i class="fas fa-times"></i></div>
                    <h3>Ø¯ÙˆØ² (Tic Tac Toe)</h3>
                    <p>Ø¨Ø§Ø²ÛŒ Ú©Ù„Ø§Ø³ÛŒÚ© Ø¯ÙˆØ². Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ± Ø±Ø§ Ø´Ú©Ø³Øª Ø¨Ø¯Ù‡!</p>
                    <button class="btn btn-secondary" onclick="loadGame('tictactoe')">Ø¨Ø§Ø²ÛŒ Ú©Ù†</button>
                </div>
                <div class="game-card">
                    <div class="game-icon"><i class="fas fa-question"></i></div>
                    <h3>Ø­Ø¯Ø³ Ø¹Ø¯Ø¯</h3>
                    <p>ÛŒÚ© Ø¹Ø¯Ø¯ Ø¨ÛŒÙ† Û± ØªØ§ Û±Û°Û° Ø±Ø§ Ø­Ø¯Ø³ Ø¨Ø²Ù†ÛŒØ¯.</p>
                    <button class="btn btn-secondary" onclick="loadGame('guess')">Ø¨Ø§Ø²ÛŒ Ú©Ù†</button>
                </div>
                <div class="game-card">
                    <div class="game-icon"><i class="fas fa-brain"></i></div>
                    <h3>Ø­Ø§ÙØ¸Ù‡ ØªØµÙˆÛŒØ±ÛŒ</h3>
                    <p>Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø´Ø§Ø¨Ù‡ Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ù†.</p>
                    <button class="btn btn-secondary" onclick="alert('Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯!')">Ø¨Ø§Ø²ÛŒ Ú©Ù†</button>
                </div>
                <div class="game-card">
                    <div class="game-icon"><i class="fas fa-keyboard"></i></div>
                    <h3>ØªØ§ÛŒÙ¾ Ø³Ø±ÛŒØ¹</h3>
                    <p>Ø³Ø±Ø¹Øª ØªØ§ÛŒÙ¾ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø³Ù†Ø¬ÛŒØ¯.</p>
                    <button class="btn btn-secondary" onclick="alert('Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯!')">Ø¨Ø§Ø²ÛŒ Ú©Ù†</button>
                </div>
            </div>
        </section>

        <section id="jokes" class="container hidden" style="padding-top: 100px; padding-bottom: 50px;">
            <h2 class="section-title">Ø§ÛŒØ³ØªÚ¯Ø§Ù‡ Ø®Ù†Ø¯Ù‡</h2>
            <div class="joke-card">
                <div class="joke-category">Ø¬ÙˆÚ© ØªØµØ§Ø¯ÙÛŒ</div>
                <p class="joke-content" id="joke-text">Ø¯Ø±Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p>
                <button class="btn btn-primary" onclick="newJoke()">Ø¬ÙˆÚ© Ø¨Ø¹Ø¯ÛŒ <i class="fas fa-redo"></i></button>
                <div style="margin-top: 20px; display: flex; justify-content: center; gap: 10px;">
                    <button class="btn" style="background:transparent; border:1px solid #ccc" onclick="reaction('like')">ğŸ˜‚ <span id="like-count">0</span></button>
                    <button class="btn" style="background:transparent; border:1px solid #ccc" onclick="reaction('dislike')">ğŸ˜</button>
                </div>
            </div>
            
            <div style="margin-top: 50px;">
                <h3 style="text-align: center; margin-bottom: 20px;">Ù…Ø¹Ù…Ø§ÛŒ Ø±ÙˆØ²</h3>
                <div class="joke-card" style="background: var(--secondary); color: white;">
                    <p id="riddle-text">Ø¢Ù† Ú†ÛŒØ³Øª Ú©Ù‡ Ù‡Ø±Ú†Ù‡ Ø§Ø² Ø¢Ù† Ø¨Ø±Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø²Ø±Ú¯ØªØ± Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ</p>
                    <button class="btn btn-accent" onclick="toggleRiddleAnswer()" style="margin-top:10px">Ù†Ù…Ø§ÛŒØ´ Ù¾Ø§Ø³Ø®</button>
                    <p id="riddle-answer" style="display:none; margin-top:15px; font-weight:bold; color: var(--dark);">Ú¯ÙˆØ¯Ø§Ù„!</p>
                </div>
            </div>
        </section>

        <section id="videos" class="container hidden" style="padding-top: 100px;">
            <h2 class="section-title">ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ Ø·Ù†Ø²</h2>
            <div class="media-grid">
                <div class="media-card">
                    <div class="media-placeholder"><i class="fas fa-play-circle"></i></div>
                    <div class="media-info">
                        <h4>Ú¯Ø±Ø¨Ù‡ Ù¾ÛŒØ§Ù†ÛŒØ³Øª</h4>
                        <p>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ: Ø­ÛŒÙˆØ§Ù†Ø§Øª</p>
                    </div>
                </div>
                <div class="media-card">
                    <div class="media-placeholder"><i class="fas fa-play-circle"></i></div>
                    <div class="media-info">
                        <h4>Ø³ÙˆØªÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ø®Ø¨Ø§Ø±</h4>
                        <p>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ: Ø·Ù†Ø² ØªÙ„ÙˆÛŒØ²ÛŒÙˆÙ†ÛŒ</p>
                    </div>
                </div>
                <div class="media-card">
                    <div class="media-placeholder"><i class="fas fa-play-circle"></i></div>
                    <div class="media-info">
                        <h4>Ø¨Ú†Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ù…Ø²Ù‡</h4>
                        <p>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ: Ú©ÙˆØ¯Ú©Ø§Ù†</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="challenges" class="container hidden" style="padding-top: 100px;">
            <h2 class="section-title">Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡</h2>
            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:30px;">
                <div class="game-card">
                    <h3>ğŸ¨ Ú†Ø§Ù„Ø´ Ø®Ù„Ø§Ù‚ÛŒØª</h3>
                    <p>Ø¨Ø§ Ú©Ù„Ù…Ø§Øª "Ù…Ø§Ú©Ø§Ø±ÙˆÙ†ÛŒ"ØŒ "ÙØ¶Ø§Ù¾ÛŒÙ…Ø§" Ùˆ "Ù…Ø§Ø¯Ø±Ø¨Ø²Ø±Ú¯" ÛŒÚ© Ø¯Ø§Ø³ØªØ§Ù† Ú©ÙˆØªØ§Ù‡ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯.</p>
                    <textarea style="width:100%; padding:10px; margin:10px 0; border-radius:10px;" rows="4" placeholder="Ø¯Ø§Ø³ØªØ§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..."></textarea>
                    <button class="btn btn-primary">Ø§Ø±Ø³Ø§Ù„ Ù¾Ø§Ø³Ø®</button>
                </div>
                <div class="game-card">
                    <h3>ğŸ§  Ú†Ø§Ù„Ø´ ÙÚ©Ø±ÛŒ</h3>
                    <p>ØªØ¹Ø¯Ø§Ø¯ Ù…Ø«Ù„Ø«â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± ØªØµÙˆÛŒØ± Ø²ÛŒØ± Ø±Ø§ Ø¨Ø´Ù…Ø§Ø±ÛŒØ¯.</p>
                    <div style="height:100px; background:#eee; margin:10px 0; display:flex; align-items:center; justify-content:center;">[ØªØµÙˆÛŒØ± Ù…Ø«Ù„Ø«]</div>
                    <input type="number" style="padding:10px; border-radius:5px; border:1px solid #ddd;" placeholder="ØªØ¹Ø¯Ø§Ø¯...">
                    <button class="btn btn-secondary">Ø¨Ø±Ø±Ø³ÛŒ</button>
                </div>
            </div>
        </section>

    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h4>FunZone</h4>
                    <p>Ø¨Ù‡ØªØ±ÛŒÙ† Ù¾Ù„ØªÙØ±Ù… Ø³Ø±Ú¯Ø±Ù…ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ø¨Ø±Ø§ÛŒ Ù„Ø­Ø¸Ø§Øª Ø´Ø§Ø¯ Ø´Ù…Ø§.</p>
                </div>
                <div class="footer-col">
                    <h4>Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ø³Ø±ÛŒØ¹</h4>
                    <ul>
                        <li><a href="#" onclick="showSection('home')">Ø®Ø§Ù†Ù‡</a></li>
                        <li><a href="#" onclick="showSection('games')">Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§</a></li>
                        <li><a href="#" onclick="showSection('about')">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</h4>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-telegram"></i></a>
                    </div>
                </div>
            </div>
            <div style="text-align: center; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px;">
                <p>&copy; 2026 FunZone. ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª.</p>
            </div>
        </div>
    </footer>

    <script>
        // --- DATA ---
        const jokesDB = [
            "ÛŒÙ‡ Ù†ÙØ± Ù…ÛŒØ±Ù‡ Ú©ØªØ§Ø¨ÙØ±ÙˆØ´ÛŒ Ù…ÛŒÚ¯Ù‡: Ø¢Ù‚Ø§ Ú©ØªØ§Ø¨ Â«Ú†Ú¯ÙˆÙ†Ù‡ ÛŒÚ© Ø´Ø¨Ù‡ Ù¾ÙˆÙ„Ø¯Ø§Ø± Ø´ÙˆÛŒÙ…Â» Ø±Ùˆ Ø¯Ø§Ø±ÛŒØ¯ØŸ ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ù…ÛŒÚ¯Ù‡: Ø¨Ù„Ù‡ØŒ ÙˆÙ„ÛŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ú©ØªØ§Ø¨ Â«Ú†Ú¯ÙˆÙ†Ù‡ Ø¨Ø§ Ù¾Ù„ÛŒØ³ Ø¨Ø±Ø®ÙˆØ±Ø¯ Ú©Ù†ÛŒÙ…Â» Ø±Ùˆ Ù‡Ù… Ø¨Ø®Ø±ÛŒØ¯!",
            "ÛŒØ§Ø±Ùˆ Ù…ÛŒØ±Ù‡ Ø¯Ú©ØªØ± Ù…ÛŒÚ¯Ù‡ Ø¢Ù‚Ø§ÛŒ Ø¯Ú©ØªØ± Ù‡Ø± Ø´Ø¨ Ø®ÙˆØ§Ø¨ Ù…ÛŒØ¨ÛŒÙ†Ù… Ø¯Ø§Ø±Ù… Ø¨Ø§ Ø®Ø±Ø§ ÙÙˆØªØ¨Ø§Ù„ Ø¨Ø§Ø²ÛŒ Ù…ÛŒÚ©Ù†Ù…. Ø¯Ú©ØªØ±Ù‡ Ù…ÛŒÚ¯Ù‡ Ø®Ø¨ Ø§Ù…Ø´Ø¨ Ù‚Ø±Øµ Ø¨Ø®ÙˆØ± Ø®ÙˆØ§Ø¨ Ù†Ø¨ÛŒÙ†ÛŒ. ÛŒØ§Ø±Ùˆ Ù…ÛŒÚ¯Ù‡ Ù†Ù‡ Ø§Ù…Ø´Ø¨ ÙÛŒÙ†Ø§Ù„Ù‡!",
            "Ø§Ø² ÛŒÙ‡ Ù†ÙØ± Ù…ÛŒÙ¾Ø±Ø³Ù†: Ú†Ø±Ø§ Ù¾Ø±Ù†Ø¯Ù‡ Ù‡Ø§ Ø²Ù…Ø³ØªÙˆÙ† Ú©Ù‡ Ù…ÛŒØ´Ù‡ Ù…ÛŒØ±Ù† Ø¬Ù†ÙˆØ¨ØŸ Ù…ÛŒÚ¯Ù‡: Ú†ÙˆÙ† Ø§Ú¯Ù‡ Ù¾ÛŒØ§Ø¯Ù‡ Ø¨Ø±Ù† Ø®ÛŒÙ„ÛŒ Ø±Ø§Ù‡Ù‡!",
            "Ù…Ø¹Ù„Ù…: Ú†Ø±Ø§ Ø§Ù†Ø´Ø§Øª Ø±Ùˆ Ù†Ù†ÙˆØ´ØªÛŒØŸ Ø¯Ø§Ù†Ø´ Ø¢Ù…ÙˆØ²: Ø¢Ù‚Ø§ Ù…Ø¹Ù„Ù…ØŒ Ù¾Ø¯Ø±Ø¨Ø²Ø±Ú¯Ù… ÙÙˆØª Ú©Ø±Ø¯. Ù…Ø¹Ù„Ù…: Ø®Ø¯Ø§ Ø¨ÛŒØ§Ù…Ø±Ø²Ù‡ØŒ ÙˆÙ„ÛŒ Ø§ÛŒÙ† Ú†Ù‡Ø§Ø±Ù…ÛŒÙ† Ù¾Ø¯Ø±Ø¨Ø²Ø±Ú¯Øª Ø¨ÙˆØ¯ Ú©Ù‡ Ø§Ù…Ø³Ø§Ù„ Ù…Ø±Ø¯!",
            "Ø­ÛŒÙ Ù†ÙˆÙ† Ø²Ù†Ú¯ Ù…ÛŒØ²Ù†Ù‡ Ø¢ØªØ´ Ù†Ø´Ø§Ù†ÛŒØŒ Ù…ÛŒÚ¯Ù‡ Ø¢Ù‚Ø§ ØªØ´Ø±ÛŒÙ Ø¨ÛŒØ§Ø±ÛŒØ¯ Ø§ÛŒÙ†Ø¬Ø§ Ø¢ØªÛŒØ´ Ú¯Ø±ÙØªÙ‡. Ø¢ØªØ´ Ù†Ø´Ø§Ù† Ù…ÛŒÚ¯Ù‡: Ú©Ø¬Ø§Ø³ØªØŸ Ù…ÛŒÚ¯Ù‡: Ù…Ú¯Ù‡ Ø´Ù…Ø§ Ø®ÙˆØ¯ØªÙˆÙ† Ø¢Ø¯Ø±Ø³ Ù†Ø¯Ø§Ø±ÛŒØ¯ØŸ"
        ];
        
        const subtitles = [
            "Ø¬Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø®Ù†Ø¯ÛŒØ¯Ù†...",
            "Ø¨Ø§Ø²ÛŒ Ú©Ù† Ùˆ Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ø¨Ø±!",
            "Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡ Ù…Ù†ØªØ¸Ø±ØªÙ‡",
            "Ø¯Ù†ÛŒØ§ÛŒÛŒ Ø§Ø² Ø³Ø±Ú¯Ø±Ù…ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„"
        ];

        // --- STATE & UTILS ---
        let currentSection = 'home';
        let jokeIndex = 0;

        // --- NAVIGATION ---
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('main > section').forEach(sec => sec.classList.add('hidden'));
            
            // Show target section
            const target = document.getElementById(sectionId);
            if(target) {
                target.classList.remove('hidden');
                // Scroll to top if not home
                if(sectionId !== 'home') window.scrollTo(0, 0);
            }
            
            // Close any active game
            closeGame();
        }

        // --- HERO TYPING EFFECT ---
        let subIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        
        function typeWriter() {
            const currentText = subtitles[subIndex];
            const typingElement = document.getElementById('typing-text');
            
            if (!isDeleting && charIndex <= currentText.length) {
                typingElement.textContent = currentText.substring(0, charIndex);
                charIndex++;
                setTimeout(typeWriter, 100);
            } else if (isDeleting && charIndex >= 0) {
                typingElement.textContent = currentText.substring(0, charIndex);
                charIndex--;
                setTimeout(typeWriter, 50);
            } else {
                if (!isDeleting) {
                    isDeleting = true;
                    setTimeout(typeWriter, 2000); // Pause at end
                } else {
                    isDeleting = false;
                    subIndex = (subIndex + 1) % subtitles.length;
                    setTimeout(typeWriter, 500);
                }
            }
        }

        // --- THEME TOGGLE ---
        const themeBtn = document.getElementById('themeBtn');
        let isDark = false;
        
        themeBtn.addEventListener('click', () => {
            isDark = !isDark;
            document.body.setAttribute('data-theme', isDark ? 'dark' : 'light');
            themeBtn.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
        });

        // --- JOKE SYSTEM ---
        function newJoke() {
            const jokeText = document.getElementById('joke-text');
            jokeText.style.opacity = 0;
            setTimeout(() => {
                let newIndex;
                do { newIndex = Math.floor(Math.random() * jokesDB.length); } while (newIndex === jokeIndex);
                jokeIndex = newIndex;
                jokeText.textContent = jokesDB[jokeIndex];
                jokeText.style.opacity = 1;
                // Reset likes
                document.getElementById('like-count').textContent = Math.floor(Math.random() * 50);
            }, 300);
        }

        function reaction(type) {
            const count = document.getElementById('like-count');
            if(type === 'like') count.textContent = parseInt(count.textContent) + 1;
        }

        function toggleRiddleAnswer() {
            const ans = document.getElementById('riddle-answer');
            ans.style.display = ans.style.display === 'none' ? 'block' : 'none';
        }

        // --- GAME SYSTEM ---
        
        function loadGame(gameType) {
            const arena = document.getElementById('active-game-area');
            const board = document.getElementById('game-board-content');
            const title = document.getElementById('game-title');
            const list = document.getElementById('games-list');
            const status = document.getElementById('game-status');

            list.style.display = 'none';
            arena.classList.add('active');
            status.textContent = '';

            if (gameType === 'tictactoe') {
                title.textContent = "Ø¯ÙˆØ² (Tic Tac Toe)";
                startTicTacToe(board, status);
            } else if (gameType === 'guess') {
                title.textContent = "Ø­Ø¯Ø³ Ø¹Ø¯Ø¯";
                startGuessNumber(board, status);
            }
        }

        function closeGame() {
            document.getElementById('active-game-area').classList.remove('active');
            document.getElementById('games-list').style.display = 'grid';
        }

        // --- GAME 1: TIC TAC TOE ---
        let tttState = ['', '', '', '', '', '', '', '', ''];
        let tttActive = true;
        
        function startTicTacToe(container, statusDisplay) {
            tttState = ['', '', '', '', '', '', '', '', ''];
            tttActive = true;
            statusDisplay.textContent = "Ù†ÙˆØ¨Øª Ø´Ù…Ø§ (X)";
            
            let html = '<div class="ttt-board">';
            for(let i=0; i<9; i++) {
                html += `<div class="ttt-cell" id="cell-${i}" onclick="tttMove(${i})"></div>`;
            }
            html += '</div>';
            container.innerHTML = html;
        }

        function tttMove(index) {
            const statusDisplay = document.getElementById('game-status');
            if (!tttActive || tttState[index] !== '') return;

            // Player Move
            tttState[index] = 'X';
            document.getElementById(`cell-${index}`).textContent = 'X';
            document.getElementById(`cell-${index}`).classList.add('x');

            if (checkWin('X')) {
                statusDisplay.textContent = "ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!";
                tttActive = false;
                return;
            }
            if (!tttState.includes('')) {
                statusDisplay.textContent = "Ø¨Ø§Ø²ÛŒ Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯!";
                tttActive = false;
                return;
            }

            // Computer Move (Simple Random)
            statusDisplay.textContent = "Ù†ÙˆØ¨Øª Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ±...";
            setTimeout(() => {
                if(!tttActive) return;
                let emptyIndices = tttState.map((val, idx) => val === '' ? idx : null).filter(val => val !== null);
                let randIdx = emptyIndices[Math.floor(Math.random() * emptyIndices.length)];
                
                tttState[randIdx] = 'O';
                document.getElementById(`cell-${randIdx}`).textContent = 'O';
                document.getElementById(`cell-${randIdx}`).classList.add('o');

                if (checkWin('O')) {
                    statusDisplay.textContent = "Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ± Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ :(";
                    tttActive = false;
                } else {
                    statusDisplay.textContent = "Ù†ÙˆØ¨Øª Ø´Ù…Ø§ (X)";
                }
            }, 500);
        }

        function checkWin(player) {
            const wins = [
                [0,1,2], [3,4,5], [6,7,8], // Rows
                [0,3,6], [1,4,7], [2,5,8], // Cols
                [0,4,8], [2,4,6]           // Diagonals
            ];
            return wins.some(comb => {
                return tttState[comb[0]] === player && 
                       tttState[comb[1]] === player && 
                       tttState[comb[2]] === player;
            });
        }

        // --- GAME 2: GUESS NUMBER ---
        let targetNum;
        let attempts;

        function startGuessNumber(container, statusDisplay) {
            targetNum = Math.floor(Math.random() * 100) + 1;
            attempts = 0;
            
            container.innerHTML = `
                <div style="max-width:300px; margin:0 auto;">
                    <p style="margin-bottom:15px;">Ù…Ù† ÛŒÚ© Ø¹Ø¯Ø¯ Ø¨ÛŒÙ† Û± ØªØ§ Û±Û°Û° Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù….</p>
                    <input type="number" id="guessInput" class="btn" style="background:white; border:1px solid #ccc; width:100px; margin-left:10px; cursor:text;">
                    <button class="btn btn-primary" onclick="checkGuess()">Ø­Ø¯Ø³ Ø¨Ø²Ù†</button>
                    <p id="guessFeedback" style="margin-top:20px; font-size:1.2rem;"></p>
                </div>
            `;
        }

        window.checkGuess = function() { // Expose to global scope for HTML onclick
            const val = parseInt(document.getElementById('guessInput').value);
            const feedback = document.getElementById('guessFeedback');
            attempts++;

            if (isNaN(val)) {
                feedback.textContent = "Ù„Ø·ÙØ§ ÛŒÚ© Ø¹Ø¯Ø¯ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!";
                return;
            }

            if (val === targetNum) {
                feedback.innerHTML = `<span style="color:green">Ø¢ÙØ±ÛŒÙ†! Ø¹Ø¯Ø¯ ${targetNum} Ø¯Ø±Ø³Øª Ø¨ÙˆØ¯.<br>ØªØ¹Ø¯Ø§Ø¯ ØªÙ„Ø§Ø´: ${attempts}</span>`;
                // Add simple confetti effect visually by changing BG briefly
                document.getElementById('active-game-area').style.backgroundColor = '#d4edda';
            } else if (val < targetNum) {
                feedback.textContent = "Ø¨ÛŒØ´ØªØ±Ù‡! Ø¨Ø±Ùˆ Ø¨Ø§Ù„Ø§ØªØ± â¬†ï¸";
                feedback.style.color = "var(--primary)";
            } else {
                feedback.textContent = "Ú©Ù…ØªØ±Ù‡! Ø¨ÛŒØ§ Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ± â¬‡ï¸";
                feedback.style.color = "var(--secondary)";
            }
        };

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            typeWriter();
            newJoke(); // Load initial joke
        });

    </script>
</body>
</html>
